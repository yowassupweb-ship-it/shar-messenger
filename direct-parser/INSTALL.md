е# Установка парсера Яндекс.Директ

## Быстрый старт

### 1. Скачайте файлы парсера

Скачайте следующие файлы в одну папку:
- `direct_agent.py` - основной агент
- `ad_parser.py` - парсер объявлений  
- `requirements.txt` - зависимости

### 2. Установите Python

Требуется Python 3.8+. Скачайте с https://python.org

### 3. Установите зависимости

```bash
pip install -r requirements.txt
```

### 4. Установите Chrome и ChromeDriver

- Установите Google Chrome
- Скачайте ChromeDriver: https://chromedriver.chromium.org/downloads
- Добавьте в PATH или положите рядом с парсером

### 5. Получите API ключ

1. Откройте https://tools.connecting-server.ru/direct-parser
2. Перейдите на вкладку "Настройки"
3. Нажмите "Сгенерировать API ключ"
4. Скопируйте ключ

### 6. Запустите агент

```bash
python direct_agent.py --api-url https://tools.connecting-server.ru --api-key ВАШ_КЛЮЧ
```

## Параметры запуска

```
--api-url      URL API сервера (обязательный)
--api-key      API ключ для авторизации
--poll-interval Интервал опроса в секундах (по умолчанию 10)
--headless     Запуск без окна браузера (не рекомендуется для капчи)
```

## Как работает

1. Агент подключается к API и ждёт задачи
2. Когда задача есть - запускает браузер и парсит выдачу
3. Если появится капча - решите её вручную в открывшемся окне
4. Результаты автоматически отправляются в API
5. Агент ждёт следующую задачу

## Решение проблем

### ChromeDriver не найден
Скачайте версию соответствующую вашему Chrome

### Капча каждый раз
Парсите реже, используйте разные запросы

### Нет связи с API
Проверьте интернет и правильность URL/ключа
