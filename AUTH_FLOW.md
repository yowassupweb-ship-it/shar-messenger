# –°—Ö–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ - –í–æ–∫—Ä—É–≥ —Å–≤–µ—Ç–∞

## üîê –ü–æ—Ç–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚ùå)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser   ‚îÇ
‚îÇ  /login     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ 1. –í–≤–æ–¥–∏—Ç: admin/admin
      ‚îÇ
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  login/page.tsx         ‚îÇ
‚îÇ  ‚ùå –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞  ‚îÇ
‚îÇ  if (username === 'admin' ‚îÇ
‚îÇ      && password === 'admin') ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ 2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ localStorage:
      ‚îÇ    - isAuthenticated: true
      ‚îÇ    - username: "admin"
      ‚îÇ    ‚ùå –ù–ï–¢ userRole!
      ‚îÇ
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  page.tsx (Dashboard)   ‚îÇ
‚îÇ  ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ username ‚îÇ
‚îÇ  setIsAdmin(username === 'admin') ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ –ü–†–û–ë–õ–ï–ú–ê: –ú–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å localStorage!
      ‚îÇ –ü–†–û–ë–õ–ï–ú–ê: –ù–µ—Ç —Å–≤—è–∑–∏ —Å backend!
      ‚îî‚îÄ> ‚ùå –£—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```

## ‚úÖ –ü–æ—Ç–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –ü–†–ê–í–ò–õ–¨–ù–û)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser   ‚îÇ
‚îÇ  /login     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ 1. –í–≤–æ–¥–∏—Ç: admin/admin
      ‚îÇ
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  login/page.tsx                  ‚îÇ
‚îÇ  ‚úÖ API –∑–∞–ø—Ä–æ—Å                   ‚îÇ
‚îÇ  POST /api/auth/login            ‚îÇ
‚îÇ  { username, password }          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ 2. –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ backend
      ‚îÇ
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Backend: main.py                ‚îÇ
‚îÇ  @app.post("/api/auth/login")    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î
      ‚îÇ
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  database.py                     ‚îÇ
‚îÇ  verify_user(username, password) ‚îÇ
‚îÇ  ‚úÖ –ß–∏—Ç–∞–µ—Ç database.json         ‚îÇ
‚îÇ  ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ö–µ—à/–ø–∞—Ä–æ–ª—å         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ 4. –ï—Å–ª–∏ OK, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
      ‚îÇ    { status: "success",
      ‚îÇ      user: { username, role: "admin" } }
      ‚îÇ
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  login/page.tsx                  ‚îÇ
‚îÇ  ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç API        ‚îÇ
‚îÇ  localStorage.setItem:           ‚îÇ
‚îÇ    - isAuthenticated: true       ‚îÇ
‚îÇ    - username: "admin"           ‚îÇ
‚îÇ    - userRole: "admin" ‚Üê –ù–û–í–û–ï!  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ 5. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ /
      ‚îÇ
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  page.tsx (Dashboard)            ‚îÇ
‚îÇ  ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ userRole         ‚îÇ
‚îÇ  const userRole = localStorage   ‚îÇ
‚îÇ      .getItem('userRole')        ‚îÇ
‚îÇ  setIsAdmin(userRole === 'admin')‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ: –¥–∞–Ω–Ω—ã–µ –∏–∑ backend!
      ‚îÇ ‚úÖ –†–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
      ‚îî‚îÄ> ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" –≤–∏–¥–Ω–∞
```

## üîë –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### localStorage (Frontend)
```javascript
{
  "isAuthenticated": "true",
  "username": "admin",
  "userRole": "admin"  // ‚Üê –ö–ª—é—á–µ–≤–æ–µ –ø–æ–ª–µ!
}
```

### database.json (Backend)
```json
{
  "users": [
    {
      "id": "user_001",
      "username": "admin",
      "password": "admin",
      "role": "admin",  // ‚Üê –ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã!
      "createdAt": "2024-12-01T00:00:00Z"
    }
  ]
}
```

## üõ°Ô∏è –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –î–û (‚ùå –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ú–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å localStorage
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –†–æ–ª—å –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è

### –ü–û–°–õ–ï (‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ)
- API-–∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –†–æ–ª—å –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç backend
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å (future):
1. **JWT —Ç–æ–∫–µ–Ω—ã** - –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ localStorage
2. **Refresh tokens** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
3. **HTTPS** - —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞
4. **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
5. **2FA** - –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± (‚úÖ)
```typescript
// page.tsx
const userRole = localStorage.getItem('userRole');
const isAdmin = userRole === 'admin';

{isAdmin && (
  <Link href="/admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</Link>
)}
```

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± (‚ùå)
```typescript
// –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö!
const username = localStorage.getItem('username');
const isAdmin = username === 'admin'; // ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∏–º–µ–Ω–∏!
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–µ—Å—Å–∏–∏

```
1. –õ–æ–≥–∏–Ω
   ‚îî‚îÄ> API –∑–∞–ø—Ä–æ—Å ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage

2. –†–∞–±–æ—Ç–∞
   ‚îî‚îÄ> –ü—Ä–æ–≤–µ—Ä–∫–∞ userRole –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

3. –õ–æ–≥–∞—É—Ç
   ‚îî‚îÄ> –û—á–∏—Å—Ç–∫–∞ localStorage ‚Üí –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login

4. Refresh —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   ‚îî‚îÄ> useEffect —á–∏—Ç–∞–µ—Ç localStorage ‚Üí –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–æ–≥–∏–Ω
```
Input: admin/admin
Expected: 
  - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç { status: "success", user: { role: "admin" } }
  - localStorage —Å–æ–¥–µ—Ä–∂–∏—Ç userRole: "admin"
  - –ö–Ω–æ–ø–∫–∞ "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" –≤–∏–¥–Ω–∞
```

### –¢–µ—Å—Ç 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
```
Input: admin/wrong
Expected:
  - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 Unauthorized
  - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
  - localStorage –ø—É—Å—Ç–æ–π
```

### –¢–µ—Å—Ç 3: –ü–æ–¥–¥–µ–ª–∫–∞ localStorage
```
Action: –í—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å userRole: "admin" –±–µ–∑ –ª–æ–≥–∏–Ω–∞
Expected:
  - Backend –Ω–µ –¥–æ–≤–µ—Ä—è–µ—Ç localStorage
  - –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ API - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ)
```

## üéØ –ò—Ç–æ–≥

**–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã
- ‚úÖ –†–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º

**–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- JWT —Ç–æ–∫–µ–Ω—ã
- Refresh tokens
- HTTPS
- Rate limiting
